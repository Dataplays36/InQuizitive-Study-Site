<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inquisitive - Dashboard</title>
    <link rel="stylesheet" href="index.css">
    <link rel="icon" type="image/jpeg" href="images/beanz.jpg">
</head>
<body onload ="checkforaccount()">
    <script src="myscript.js"></script>
    <header>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="explore.html">Explore</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="weeklyUpdate.html">Weekly Updates</a></li>
                    <li><a href="dashboard.html" id="dashboard_link" style="display: none">Dashboard</a>
                </ul>
                <input type="text" placeholder="search.." id="searchbar" onkeypress = clickPress(event)>
                <a id="login_signup" href="login.html" style="display: none">Login/Sign Up</a>
            </nav>
        </header>
        <div class="content">
            <h1>User Profile</h1>
            <p id="welcome"></p>
            <p><strong>Username:</strong> <span id="username"></span></p>
            <h2>Study Sets</h2>
            <ul id="studySets">
            <button onclick ="logout()">Logout</button>
        </div>
        <footer>

        </footer>
        <script>
            document.addEventListener("DOMContentLoaded", function(){
                const user = sessionStorage.getItem("loggedInUser");
                const password = sessionStorage.getItem("loggedInPassword");
                const studySets = JSON.parse(sessionStorage.getItem("studySets")) || [];
                if(user && password){
                    document.getElementById("welcome").innerText = "Welcome, " + user;
                    document.getElementById("username").innerText = user;
                    document.getElementById("password").innerText = password;
    
                    const studySetsList = document.getElementById("studySets");
                    studySets.forEach(set => {
                        const li = document.createElement("li");
                        li.innerText = set;
                        studySetsList.appendChild(li);
                    });
                }
                else{
                    window.location.href = "login.html";
                }
            });
        </script>
</body>
</html>
